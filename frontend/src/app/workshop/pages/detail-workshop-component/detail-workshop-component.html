
@if (workshop) {
  <!-- Actions -->
  <div class="detail-actions">

    <button class="btn back" (click)="goBack()">
      <-- Retour à la liste des ateliers
    </button>

    @if (isAdmin) {

      <div class="admin-buttons">

        <button class="btn edit" (click)="goToEdit()">
          Modifier
        </button>

        <button class="btn delete" (click)="deleteWorkshop()">
          Supprimer
        </button>

      </div>

    } @else {
      <button class="btn edit">
        S'nscrire à l'atelier
      </button>

    }

  </div>
  <section class="news-detail">

    <!-- Image -->
    <!-- Slider if more then one images -->
    @if (images.length > 1) {

      <div class="image-slider">

        <div
          class="slider-track"
          [style.transform]="'translateX(-' + (currentIndex * 100) + '%)'"
        >

          @for (img of images; track img) {
            <img
              ngSrc="{{ apiUrlBack + '/uploads/media/' + img }}"
              alt="workshop img"
              width="1000"
              height="600"
              priority
            />
          }

        </div>

        <!-- Buttons -->
        <button class="slider-btn left" (click)="prevImage()">
          ‹
        </button>

        <button class="slider-btn right" (click)="nextImage()">
          ›
        </button>

      </div>
    }

    @else if (images.length === 1) {
      <!-- else if event has so one image -->
      <div class="news-image">

        <img
          ngSrc="{{ apiUrlBack + '/uploads/media/' + images[0] }}"
          fill
          alt="workshop img"
        />

      </div>

    }
    @else if (!images.length && videoUrl) {
      <!-- else if event has only  video (no image) -->
      <div class="news-video">

        <iframe
          title="workshop-video"
          width="100%"
          height="250"
          [src]="getSafeYoutubeUrl(videoUrl!)"
          allowfullscreen>
        </iframe>

      </div>

    }

    <!-- Content -->
    <div class="news-content">
      <h2>{{ workshop.title }}</h2>

      <small class="published-date">
        Du {{ workshop.startDate | date:'dd/MM/yyyy à HH:mm' }}
        au {{ workshop.endDate | date:'dd/MM/yyyy à HH:mm' }}
      </small>

      <p class="location">Lieu: {{ workshop.location }} | {{ workshop.address }}</p>

    </div>
    <div class="news-text" [innerHTML]="workshop.description"></div>

    <!-- event has images and video (video must be after the content) -->
    @if (images.length && videoUrl) {

      <div class="news-video bottom-video">

        <iframe
          title="workshop-video"
          width="100%"
          height="250"
          [src]="getSafeYoutubeUrl(videoUrl!)"
          allowfullscreen>
        </iframe>

      </div>

    }

  </section>

}

